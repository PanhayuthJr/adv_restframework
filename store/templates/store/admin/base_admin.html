{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}INAZUMA Control Center{% endblock %}</title>

    <!-- Tailwind CSS v4 (Latest) -->
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style type="text/tailwindcss">
        @theme {
            --font-sans: 'Plus Jakarta Sans', sans-serif;
            --color-primary: #0F172A;
            --color-accent: #2563EB;
            --color-bg: #F8FAFC;
        }

        @layer base {
            body { @apply bg-slate-50 text-slate-900 font-sans antialiased; }
        }

        @layer components {
            .sidebar-link { @apply flex items-center px-6 py-4 text-xs font-black uppercase tracking-widest text-slate-400 transition-all hover:bg-slate-100 hover:text-slate-900 rounded-2xl; }
            .sidebar-link.active { @apply bg-slate-900 text-white shadow-xl shadow-slate-900/20; }
            .stat-card { @apply bg-white border border-slate-100 p-8 rounded-[2.5rem] shadow-sm hover:shadow-xl transition-all duration-500; }
            .admin-btn { @apply inline-flex items-center px-6 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all active:scale-95; }
        }
    </style>
</head>

<body class="flex min-h-screen">

    <!-- Elite Sidebar -->
    <aside class="w-80 bg-white border-r border-slate-100 flex flex-col p-8 fixed h-full z-50">
        <div class="mb-12 flex items-center gap-4 pl-4">
            <div
                class="w-12 h-12 bg-slate-900 rounded-2xl flex items-center justify-center text-white rotate-3 shadow-lg">
                <i class="fas fa-microchip text-xl"></i>
            </div>
            <div>
                <h2 class="text-xl font-black tracking-tighter">CONTROL</h2>
                <p class="text-[9px] font-black text-slate-300 uppercase tracking-[.3em]">Operational Unit</p>
            </div>
        </div>

        <nav class="space-y-2 flex-1">
            <p class="text-[10px] font-black text-slate-300 uppercase tracking-widest pl-6 mb-6">Master Grid</p>

            <a href="{% url 'store:admin_dashboard' %}"
                class="sidebar-link {% if 'dashboard' in request.path and not 'products' in request.path and not 'categories' in request.path %}active{% endif %}">
                <i class="fas fa-chart-line mr-4 text-base"></i> Real-time Insights
            </a>

            <a href="{% url 'store:product_list' %}"
                class="sidebar-link {% if 'products' in request.path %}active{% endif %}">
                <i class="fas fa-boxes-stacked mr-4 text-base"></i> Arsenal Mgmt
            </a>

            <a href="{% url 'store:category_list' %}"
                class="sidebar-link {% if 'categories' in request.path %}active{% endif %}">
                <i class="fas fa-layer-group mr-4 text-base"></i> Series Taxonomy
            </a>

            <hr class="my-8 border-slate-50">

            <p class="text-[10px] font-black text-slate-300 uppercase tracking-widest pl-6 mb-6">User Interface</p>
            <a href="{% url 'store:index' %}" class="sidebar-link">
                <i class="fas fa-eye mr-4 text-base"></i> Live Deployment
            </a>
        </nav>

        <div class="mt-auto">
            <form method="POST" action="{% url 'store:logout' %}">
                {% csrf_token %}
                <button type="submit"
                    class="w-full bg-red-50 text-red-600 py-4 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-500 hover:text-white transition-all group">
                    <i class="fas fa-power-off mr-3 opacity-50 group-hover:opacity-100"></i> Terminate
                </button>
            </form>
        </div>
    </aside>

    <!-- Main Viewport -->
    <main class="flex-1 ml-80 p-12">
        <!-- Top Bar -->
        <header class="flex justify-between items-center mb-16">
            <div>
                <h1 class="text-4xl font-black text-slate-900 tracking-tighter">
                    {% block header_title %}Insights Grid{% endblock %}
                </h1>
                <p class="text-slate-400 font-medium mt-2">
                    {% block header_subtitle %}Monitoring operational activities across all sectors.{% endblock %}
                </p>
            </div>

            <div class="flex items-center gap-4">
                {% block header_actions %}{% endblock %}
                <div
                    class="w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center text-slate-400 border border-slate-200">
                    <i class="fas fa-bell"></i>
                </div>
            </div>
        </header>

        <!-- Global Notifications -->
        {% if messages %}
        <div class="mb-10 space-y-4">
            {% for message in messages %}
            <div
                class="bg-white border-l-4 {% if message.tags == 'success' %}border-emerald-500{% else %}border-amber-500{% endif %} p-6 rounded-3xl shadow-sm flex items-center gap-4 fade-in">
                <div
                    class="w-10 h-10 rounded-full flex items-center justify-center shrink-0 {% if message.tags == 'success' %}bg-emerald-50 text-emerald-600{% else %}bg-amber-100 text-amber-600{% endif %}">
                    <i
                        class="fas {% if message.tags == 'success' %}fa-check-circle{% else %}fa-exclamation-circle{% endif %}"></i>
                </div>
                <p class="text-sm font-bold text-slate-700">{{ message }}</p>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Yield -->
        <section class="fade-in">{% block content %}{% endblock %}</section>
    </main>

    <script src="{% static 'js/script.js' %}"></script>
</body>

</html>